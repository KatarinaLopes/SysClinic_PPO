<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <h:form id="cadastroFuncionarioForm">
            
            <p:poll>
                <p:messages/>
            </p:poll>

            <p:panelGrid columns="3">
                <h:outputText value="Nome"/> 
                <p:inputText id="nome" maxlength="70" 
                             placeholder="Ex.: Maria da Silva" required="true"
                             requiredMessage="Campo obrigatório" 
                             value="#{builderFuncionario.nome}">
                </p:inputText>
                <p:message for="nome"/>

                <h:outputText value="Matrícula"/>
                <p:inputText id="matricula" type="number" required="true" 
                             requiredMessage="Campo obrigatório"
                             value="#{builderFuncionario.matricula}"/>
                <p:message for="matricula"/>
                
                <h:outputText value="Data de Admissão"/>
                <p:calendar id="dataAdmissao" pattern="dd-MM-yyyy" 
                            maxdate="today" required="true" 
                            requiredMessage="Campo obrigatório"
                            value="#{builderFuncionario.dataAdmissao}"/>
                <p:message for="dataAdmissao"/>
                
                <h:outputText value="Cargo"/>
                <p:inputText id="especialidade" required="true" 
                             requiredMessage="Campo obrigatório"
                             value="#{builderFuncionario.cargo}"/>
                <p:message for="especialidade"/>
                
                <h:outputText value="Sexo"/>
                <p:selectOneRadio value="#{builderFuncionario.sexo}" id="sexo"
                                  required="true" 
                                  requiredMessage="Campo obrigatório">
                    <f:selectItem itemValue="F" itemLabel="Feminino"/>
                    <f:selectItem itemValue="M" itemLabel="Masculino"/>
                </p:selectOneRadio>
                <p:message for="sexo"/>

                <h:outputText value="Telefone para contato"/>
                <p:inputMask id="telefoneContato" mask="(99)9999-9999" 
                             value="#{builderFuncionario.telefone}"
                             placeholder="(99)9999-9999" required="true" 
                             requiredMessage="Campo obrigatório"/>
                <p:message for="telefoneContato"/>
                
                <h:outputText value="Email"/>
                <p:inputText id="email" value="#{builderFuncionario.email}"
                             placeholder="email@email.com"/>
                <p:message for="email"/>

                <p:selectBooleanCheckbox  id="administrador" 
                                          itemLabel="É um administrador"
                                          
                                          value="#{
                                          builderFuncionario.administrador}"/>
                <p:spacer/><p:spacer/>

                <h:outputText value="Escolha uma senha"/>
                <p:password id="senha" value="#{builderFuncionario.senha}"
                            required="true"
                            requiredMessage="Campo obrigatório"/>
                <p:message for="senha"/>

                <h:outputText value="Confirme sua senha"/>
                <p:password id="confirmeSenha" value="#{confirmeSenha}"
                            required="true" 
                            requiredMessage="Campo obrigatório"/>
                <p:message id="mConfirmeSenha" for="confirmeSenha"/>
            </p:panelGrid>

            <p:commandButton value="Cadastrar" 
                             action="#{controllerFuncionario.cadastrar(
                                       builderFuncionario.build(), 
                                       confirmeSenha)}"
                             update=":cadastroFuncionarioForm"/>
        </h:form>
    </h:body>
</html>

